define("qiao",["require","exports","module","jquery"],function(e,t){var n=e("jquery");String.prototype.contains=function(e){return this.indexOf(e)!=-1},String.prototype.startWith=function(e){return this.indexOf(e)==0},String.prototype.endWith=function(e){return this.length==0?!1:this.indexOf(e)==this.length-1},String.prototype.inArray=function(e){if(this&&e)for(var t=0;t<e.length;t++)if(this==e[t])return!0;return!1},n.fn.qser=function(){var e={},t=n(this).serializeArray();if(t.length!=0)for(var r=0;r<t.length;r++)e[t[r].name]=t[r].value;return e},n.fn.qdata=function(){var e={},t=n(this).attr("data");if(t){var r=t.split(";");for(var i=0;i<r.length;i++)if(r[i]){var s=r[i].split(":");e[s[0]]=s[1]}}return e},t.ajaxoptions={url:"",data:{},type:"post",dataType:"json",async:!1},t.ajaxopt=function(e){var r=n.extend({},t.ajaxoptions);return typeof e=="string"?r.url=e:n.extend(r,e),r},t.ajax=function(e){if(!!e){var r=t.ajaxopt(e);r.url=base+r.url;var i;return n.ajax(r).done(function(e){i=e}),i}alert("need options")},t.html=function(e,r){var i=t.ajaxopt(e);i.dataType="html";var s=r?r:"#cruddiv";n(s).empty().append(t.ajax(i))},t.ajaxinit=function(){qmask.qhide(),n(document).ajaxStart(function(){qmask.qmask()}),n(document).ajaxStop(function(){qmask.qhide()})},t.to=function(e){e?window.location.href=e:alert("need url")},t.con=function(e){console.log(e)},t.on=function(e,t,r){n(document).off(t,e).on(t,e,r)}}),define("qiaobs",["require","exports","module","jquery","qiao"],function(e,t){var n=e("jquery"),r=e("qiao");t.modaloptions={url:"",fade:"fade",close:!0,title:"title",btn:!1,okbtn:"确定",qubtn:"取消",msg:"msg",big:!1,show:!1,remote:!1,backdrop:"static",keyboard:!0},t.modalstr=function(e){var t='<div class="modal '+e.fade+'" id="bsmodal" tabindex="-1" role="dialog" aria-labelledby="bsmodaltitle" aria-hidden="true">';e.big?t+='<div class="modal-dialog modal-lg"><div class="modal-content">':t+='<div class="modal-dialog"><div class="modal-content">';var n="</div></div></div>",r='<div class="modal-header">';e.close&&(r+='<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>'),r+='<h3 class="modal-title" id="bsmodaltitle">'+e.title+"</h3></div>";var i='<div class="modal-body"><p><h4>'+e.msg+"</h4></p></div>",s='<div class="modal-footer"><button type="button" class="btn btn-primary bsok">'+e.okbtn+"</button>";return e.btn&&(s+='<button type="button" class="btn btn-default bscancel">'+e.qubtn+"</button>"),s+="</div>",t+r+i+s+n},t.alert=function(e,i){var s=n.extend({},t.modaloptions);typeof e=="string"?s.msg=e:n.extend(s,e),s.title="提示",n("body").append(t.modalstr(s));var o=n("#bsmodal");o.modal(s),r.on("button.bsok","click",function(){i&&i(),o.modal("hide")}),r.on("#bsmodal","hidden.bs.modal",function(){o.remove()}),o.modal("show")},t.confirm=function(e,i,s){var o=n.extend({},t.modaloptions);typeof e=="string"?o.msg=e:n.extend(o,e),o.btn=!0,o.title="确认操作",n("body").append(t.modalstr(o));var u=n("#bsmodal");u.modal(o),r.on("button.bsok","click",function(){i&&i(),u.modal("hide")}),r.on("button.bscancel","click",function(){s&&s(),u.modal("hide")}),r.on("#bsmodal","hidden.bs.modal",function(){u.remove()}),u.modal("show")},t.dialog=function(e,i){var s=n.extend({},t.modaloptions,e);n("body").append(t.modalstr(s));var o=r.ajax({url:e.url,dataType:"html"});n("#bsmodal div.modal-body").empty().append(o);var u=n("#bsmodal");u.modal(s),r.on("button.bsok","click",function(){i&&i(),u.modal("hide")}),r.on("#bsmodal","hidden.bs.modal",function(){u.remove()}),u.modal("show")},t.msgoptions={msg:"msg",type:"info",time:2e3},t.msgstr=function(e,t){return'<div class="alert alert-'+t+' alert-dismissible" role="alert" style="display:none;margin:0;text-align:center;" id="bsalert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>'+e+"</div>"},t.msg=function(e){var r=n.extend({},t.msgoptions);typeof e=="string"?r.msg=e:n.extend(r,t.msgoptions),n("body").prepend(t.msgstr(r.msg,r.type)),n("#bsalert").slideDown(),setTimeout(function(){n("#bsalert").slideUp(function(){n("#bsalert").remove()})},r.time)}}),define("qiaocrud",["require","exports","module","jquery","qiao","qiaobs"],function(e,t){var n=e("jquery"),r=e("qiao"),i=e("qiaobs");t.url="",t.crud=function(){r.on(".menus","click",function(){var e=n(this).qdata().url;e&&(t.url=e,t.list())}),t.bindcrud(),t.bindpage()},t.bindcrud=function(){r.on(".allcheck","change",function(){n(".onecheck").prop("checked",n(this).prop("checked"))}),r.on(".addBtn","click",function(){t.savep("添加")}),r.on(".editbtn","click",function(){t.savep("修改",n(this).parents("tr").qdata().id)}),r.on(".queBtn","click",function(){t.savep("查询")}),r.on(".relBtn","click",function(){t.reset()}),r.on(".delBtn","click",function(){t.del()}),r.on(".delbtn","click",function(){t.del(n(this).parents("tr").qdata().id)})},t.listopt={pageNumber:1},t.list=function(e){var i={url:t.url+"index"};e&&n.extend(t.listopt,e),i.data=t.listopt,r.html(i)},t.reset=function(){t.listopt={pageNumber:1},t.list()},t.savep=function(e,r){if(e=="查询")i.dialog({title:e,url:t.url+"savep"},function(){t.list(n("#bsmodal").find("form").qser())});else{var s=r?t.url+"savep?id="+r:t.url+"savep";i.dialog({title:e,url:s},function(){t.save()})}},t.save=function(){var e=r.ajax({url:t.url+"save",data:n("#bsmodal").find("form").qser()});i.msg(e.msg),t.list()},t.del=function(e){var s=[];e?s.push(e):n(".onecheck:checked").each(function(){s.push(n(this).parents("tr").qdata().id)}),s.length?i.confirm("确认要删除所选记录吗？",function(){var e=r.ajax({url:t.url+"del",data:{ids:s.join(",")}});i.msg(e.msg),t.list()}):i.alert("请选择要删除的记录！")},t.bindpage=function(){r.on(".crudfirst","click",function(){n(this).parent().hasClass("disabled")||t.reset()}),r.on(".crudprev","click",function(){n(this).parent().hasClass("disabled")||t.list({pageNumber:t.listopt.pageNumber-1})}),r.on(".crudnext","click",function(){n(this).parent().hasClass("disabled")||t.list({pageNumber:t.listopt.pageNumber+1})}),r.on(".crudlast","click",function(){n(this).parent().hasClass("disabled")||t.list({pageNumber:n(this).qdata().page})}),r.on(".cruda","click",function(){n(this).parent().hasClass("disabled")||t.list({pageNumber:parseInt(n(this).text())})}),r.on(".crudgo","click",function(){var e=parseInt(n(".crudinput").val()),r=parseInt(n(this).qdata().page);e>=1&&e<=r&&t.list({pageNumber:e})})}}),require(["jquery","bootstrap","qiao","qiaocrud"],function(e,t,n,r){e(function(){r.crud(),n.ajaxinit()})}),define("web/js-src/ucenter-index",function(){});